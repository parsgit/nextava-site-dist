import{_ as x}from"./MyInput-Df35YVUj.js";import{p as L,q as D,c as s,o as a,a as l,w as M,f as v,n as k,t as y,D as z,F as $,g as S,E,r as V,m as F,i,P as b,_ as G,k as P,C as _,u as U,h as O,s as T}from"./index-vb3ZeOfp.js";import{a as H,b as Y,_ as J}from"./FileUploader-B3Ul-OnD.js";const Q={class:"form-control w-full max-w-xs"},W={class:"label"},X={disabled:"",value:null},Z=["value"],ee={key:0,class:"label"},te={key:0,class:"label-text-alt"},le={key:1,class:"label-text-alt"},w={__name:"MySelect",props:L({valueKey:{default:"value"},titleKey:{default:"title"},titleClass:{default:""},selectClass:{default:""},options:{type:Array,default:()=>[],required:!0},placeholder:{type:String,default:"Select an option"},title:{type:String,default:""},topAltText:{type:String,default:""},bottomLeftAltText:{type:String,default:""},bottomRightAltText:{type:String,default:""}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(c){const t=c,d=D(c,"modelValue");return(u,f)=>(a(),s("label",Q,[l("div",W,[t.title?(a(),s("span",{key:0,class:k([t.titleClass,"label-text"])},y(t.title),3)):v("",!0),c.topAltText?(a(),s("span",{key:1,class:k([t.titleClass,"label-text-alt"])},y(c.topAltText),3)):v("",!0)]),M(l("select",{class:k([t.selectClass,"select select-bordered"]),"onUpdate:modelValue":f[0]||(f[0]=m=>d.value=m),onChange:f[1]||(f[1]=m=>u.$emit("update:modelValue",m.target.value))},[l("option",X,y(c.placeholder),1),(a(!0),s($,null,S(c.options,m=>(a(),s("option",{key:m[t.valueKey],value:m[t.valueKey]},y(m[t.titleKey]),9,Z))),128))],34),[[z,d.value]]),c.bottomLeftAltText||c.bottomRightAltText?(a(),s("div",ee,[c.bottomLeftAltText?(a(),s("span",te,y(c.bottomLeftAltText),1)):v("",!0),c.bottomRightAltText?(a(),s("span",le,y(c.bottomRightAltText),1)):v("",!0)])):v("",!0)]))}},oe={class:"form-control"},ae={class:"flex gap-4 cursor-pointer flex"},se=["checked"],R={__name:"MyCheckbox",props:L({title:{type:String,default:""},inputClass:{type:String,default:""},titleClass:{type:String,default:""}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(c){const t=D(c,"modelValue"),d=c;return(u,f)=>(a(),s("div",oe,[l("label",ae,[l("span",{class:k([c.titleClass,"label-text"])},y(d==null?void 0:d.title),3),M(l("input",{class:k([c.inputClass,"checkbox"]),"onUpdate:modelValue":f[0]||(f[0]=m=>t.value=m),checked:t.value,type:"checkbox"},null,10,se),[[E,t.value]])])]))}},ne={key:0,class:"mt-4 px-2 card"},de={class:"flex flex-col gap-4"},ie={class:"flex items-end gap-4"},ue={class:"py-3 px-6 bg-white rounded-lg flex gap-4"},me={__name:"SettingGeneralView",props:{siteId:{type:Number,required:!0}},setup(c){const t=V({}),d=c,u=()=>{b("admin/settings-general-info",{site_id:d.siteId}).then(m=>{m.ok&&(t.value=m.site,t.value.active=!!t.value.active)})},f=()=>{b("admin/save-site-info",{site:t.value}).then(m=>{m.ok&&alert("Site Info Saved")})};return F(()=>{u()}),(m,r)=>{var h;return a(),s("div",null,[l("div",null,[r[7]||(r[7]=l("h1",{class:"text-2xl font-bold"},"General Settings",-1)),(h=t.value)!=null&&h.title?(a(),s("div",ne,[l("div",de,[i(x,{modelValue:t.value.title,"onUpdate:modelValue":r[0]||(r[0]=g=>t.value.title=g),"title-class":"font-bold text-lg",title:"Site Title"},null,8,["modelValue"]),i(x,{modelValue:t.value.name,"onUpdate:modelValue":r[1]||(r[1]=g=>t.value.name=g),"title-class":"font-bold text-lg",title:"Site Name"},null,8,["modelValue"]),i(x,{modelValue:t.value.domain,"onUpdate:modelValue":r[2]||(r[2]=g=>t.value.domain=g),"title-class":"font-bold text-lg",title:"Site Domain"},null,8,["modelValue"]),i(x,{modelValue:t.value.devdomain,"onUpdate:modelValue":r[3]||(r[3]=g=>t.value.devdomain=g),"title-class":"font-bold text-lg",title:"Site Development Domain"},null,8,["modelValue"]),i(x,{modelValue:t.value.settings.footer,"onUpdate:modelValue":r[4]||(r[4]=g=>t.value.settings.footer=g),"title-class":"font-bold text-lg",title:"Footer text"},null,8,["modelValue"]),l("div",ie,[i(w,{modelValue:t.value.protocol,"onUpdate:modelValue":r[5]||(r[5]=g=>t.value.protocol=g),options:[{title:"http",value:"http"},{title:"https",value:"https"}],"title-class":"font-bold text-lg",title:"Site Protocol"},null,8,["modelValue"]),l("div",ue,[i(R,{"input-class":"checkbox-primary","title-class":"text-lg font-bold",class:"mt-auto",modelValue:t.value.active,"onUpdate:modelValue":r[6]||(r[6]=g=>t.value.active=g),title:"Is Active"},null,8,["modelValue"])])])])])):v("",!0)]),l("div",{class:"mt-8"},[l("button",{onClick:f,class:"btn btn-primary btn-lg px-8"},"Save")])])}}},ce={},re={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function pe(c,t){return a(),s("svg",re,t[0]||(t[0]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"},null,-1)]))}const I=G(ce,[["render",pe]]),ve={class:"mt-4 px-2 flex gap-4 items-end"},fe={key:0,class:"mt-8"},ge={class:"flex items-center justify-between gap-4"},xe={class:"text-2xl font-bold"},be={key:0,class:"text-green-500 font-bold text-lg"},Ve={class:"mt-4 px-2 card"},ye={class:"flex flex-col gap-4"},ke={class:"flex gap-4 flex-wrap"},he={key:0,class:"flex gap-4"},_e={key:1},Ce={key:2},Ue={key:3,class:"flex gap-4 items-end"},$e={key:4},Se={class:"flex gap-4 flex-col mt-4"},we=["onClick"],Ae={class:"text-center mt-4"},Ne=["onClick"],Te={key:5},Ie={class:"mt-4 flex text-right justify-end"},Le=["onClick"],De={key:0,class:"flex gap-4 flex-warp mt-12"},Me={class:"mt-8"},Re={__name:"SettingVariableView",setup(c){V({});const t=V({}),d=V(-1),u=V({}),f=p=>{let o={};p=="array"&&(o={options:[{name:"",value:""}]}),u.value.variables.push({id:new Date().getTime(),comname:p,...o})},m=p=>{u.value.variables.splice(p,1)},r=()=>{d.value=0,u.value={name:"",type:"",variables:[]}},h=p=>{b("admin/setting-config/remove-image",{path:p})},g=p=>{b("admin/setting-config/get-list",{}).then(o=>{o.ok&&(t.value=o.list),typeof p=="function"&&p(o)})},B=()=>{_({text:"Are you sure?",icon:"warning",buttons:["No","Yes"]}).then(p=>{p&&b("admin/setting-config/remove",{id:d.value}).then(o=>{o.ok?(_({text:"Success",icon:"success"}),d.value=-1,g()):_({text:o.message,icon:"error"})})})},K=p=>{d.value=p.target.value,A()},A=()=>{b("admin/setting-config/get-config",{id:d.value}).then(p=>{p.ok&&(u.value=p.config)})},j=()=>{b("admin/setting-config/save",{...u.value}).then(p=>{p.ok?(_({text:"Success",icon:"success"}),d.value==0&&g(()=>{d.value=p.id,A()})):_({text:p.message,icon:"error"})})};return g(),(p,o)=>(a(),s("div",null,[l("div",null,[o[12]||(o[12]=l("h1",{class:"text-2xl font-bold"},"Configs",-1)),l("div",ve,[i(w,{onChange:o[0]||(o[0]=e=>K(e)),options:t.value,"title-key":"name","value-key":"id",modelValue:d.value,"onUpdate:modelValue":o[1]||(o[1]=e=>d.value=e),title:"Select a Config"},null,8,["options","modelValue"]),d.value!=0?(a(),s("button",{key:0,onClick:o[2]||(o[2]=e=>r()),class:"btn btn-primary"},"Add")):v("",!0)])]),d.value>-1?(a(),s("div",fe,[l("div",ge,[l("h1",xe,[o[13]||(o[13]=P("Config Values ")),d.value==0?(a(),s("span",be,"(New)")):v("",!0)]),l("div",null,[d.value>0?(a(),s("button",{key:0,onClick:B,class:"btn btn-error btn-sm"},"Delete Config")):v("",!0)])]),l("div",Ve,[l("div",ye,[l("div",ke,[i(x,{modelValue:u.value.name,"onUpdate:modelValue":o[3]||(o[3]=e=>u.value.name=e),title:"Config Name","title-class":"text-lg font-bold"},null,8,["modelValue"]),i(x,{modelValue:u.value.type,"onUpdate:modelValue":o[4]||(o[4]=e=>u.value.type=e),title:"Config Type","title-class":"text-lg font-bold"},null,8,["modelValue"])]),(a(!0),s($,null,S(u.value.variables,(e,q)=>(a(),s("div",{class:"bg-black/5 p-2 rounded-xl border border-black/30",key:e.id},[e.comname=="value"?(a(),s("div",he,[i(x,{modelValue:e.label,"onUpdate:modelValue":n=>e.label=n,title:"Name","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),i(x,{modelValue:e.value,"onUpdate:modelValue":n=>e.value=n,title:"Value",class:"flex-1","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"])])):v("",!0),e.comname=="richbox"?(a(),s("div",_e,[i(x,{modelValue:e.label,"onUpdate:modelValue":n=>e.label=n,title:"Name","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),i(H,{"com-id":"editor_"+e.id,modelValue:e.html,"onUpdate:modelValue":n=>e.html=n,title:"Content"},null,8,["com-id","modelValue","onUpdate:modelValue"])])):v("",!0),e.comname=="text"?(a(),s("div",Ce,[i(x,{modelValue:e.label,"onUpdate:modelValue":n=>e.label=n,title:"Name","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),i(Y,{modelValue:e.html,"onUpdate:modelValue":n=>e.html=n,title:"Content"},null,8,["modelValue","onUpdate:modelValue"])])):v("",!0),e.comname=="checkbox"?(a(),s("div",Ue,[i(x,{modelValue:e.label,"onUpdate:modelValue":n=>e.label=n,title:"Name","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),i(R,{"input-class":"checkbox-success",class:"py-3 px-6 bg-white rounded-xl",title:"Enabled",modelValue:e.value,"onUpdate:modelValue":n=>e.value=n},null,8,["modelValue","onUpdate:modelValue"])])):v("",!0),e.comname=="array"?(a(),s("div",$e,[i(x,{modelValue:e.label,"onUpdate:modelValue":n=>e.label=n,title:"Name",class:"flex-1","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),l("div",Se,[(a(!0),s($,null,S(e.options,(n,N)=>(a(),s("div",{key:N,class:"flex gap-4 items-end"},[i(x,{modelValue:n.name,"onUpdate:modelValue":C=>n.name=C,title:"Option Name",class:"flex-1","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),i(x,{modelValue:n.value,"onUpdate:modelValue":C=>n.value=C,title:"Option Value",class:"flex-1","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),l("button",{onClick:C=>e.options.splice(N,1),class:"border hover:bg-red-200 duration-200 border-red-500 rounded-lg p-2 text-red-600"},[i(I,{class:"size-6"})],8,we)]))),128))]),l("div",Ae,[l("button",{onClick:n=>e.options.push({name:"",value:""}),class:"btn"},"Add",8,Ne)])])):v("",!0),e.comname=="image"?(a(),s("div",Te,[i(x,{modelValue:e.label,"onUpdate:modelValue":n=>e.label=n,title:"Name","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),i(J,{"upload-url":"admin/setting-config/upload-image",title:"Upload Image",modelValue:e.value,"onUpdate:modelValue":n=>e.value=n,"upload-params":{name:u.value.name},onRemove:h},null,8,["modelValue","onUpdate:modelValue","upload-params"])])):v("",!0),l("div",Ie,[l("button",{onClick:n=>m(q),class:"border hover:bg-red-200 duration-200 border-red-500 rounded-lg p-2 text-red-600"},[i(I,{class:"size-6"})],8,Le)])]))),128))]),d.value>0?(a(),s("div",De,[l("button",{class:"btn btn-secondary",onClick:o[5]||(o[5]=e=>f("value"))},"Add Input"),l("button",{class:"btn btn-secondary",onClick:o[6]||(o[6]=e=>f("richbox"))},"Add Richbox"),l("button",{class:"btn btn-secondary",onClick:o[7]||(o[7]=e=>f("text"))},"Add Text"),l("button",{class:"btn btn-secondary",onClick:o[8]||(o[8]=e=>f("image"))},"Add Image"),l("button",{class:"btn btn-secondary",onClick:o[9]||(o[9]=e=>f("array"))},"Add Array"),l("button",{class:"btn btn-secondary",onClick:o[10]||(o[10]=e=>f("checkbox"))},"Add Checkbox")])):v("",!0)]),l("div",Me,[l("button",{onClick:o[11]||(o[11]=e=>j()),class:"btn btn-primary btn-lg px-8"},"Save")])])):v("",!0)]))}},Be={class:"p-1 md:p-8 max-w-4xl"},Ke={role:"tablist",class:"tabs tabs-boxed w-fit mt-4"},je={class:"mt-12 rounded-xl bg-base-200 shadow shadow-md p-4"},Fe={__name:"SettingsView",setup(c){const t=O();V("general");const d=V([]),u=V(0);return(()=>{b("admin/get-sites",{}).then(m=>{m.ok&&(d.value=m.list,m.list.length&&(u.value=m.list[0].id))})})(),(m,r)=>(a(),s("div",Be,[l("div",null,[i(w,{modelValue:u.value,"onUpdate:modelValue":r[0]||(r[0]=h=>u.value=h),"value-key":"id",options:d.value,title:"Select a Site"},null,8,["modelValue","options"])]),l("div",Ke,[l("a",{href:"#general",role:"tab",class:k(["tab",{"tab-active":U(t).hash=="#general"}])},"General",2),l("a",{href:"#varriable",role:"tab",class:k(["tab",{"tab-active":U(t).hash=="#varriable"}])},"Variables",2)]),l("div",je,[U(t).hash=="#general"&&u.value?(a(),T(me,{key:0,"site-id":u.value},null,8,["site-id"])):v("",!0),U(t).hash=="#varriable"&&u.value?(a(),T(Re,{key:1,"site-id":u.value},null,8,["site-id"])):v("",!0)])]))}};export{Fe as default};
