import{_ as g}from"./MyInput-BaOZKL3a.js";import{q as K,s as j,c as n,o as a,a as l,w as q,b as p,n as _,t as k,E as z,F as $,d as S,r as V,p as E,f as d,P as b,l as F,D as h,u as U,j as G,x as T}from"./index-BijD6ohL.js";import{_ as L}from"./MyCheckbox-D2mbJrMz.js";import{a as P,_ as O}from"./Richbox-BsOruErA.js";import{_ as H}from"./FileUploader-9TwJ_3im.js";import{_ as Y}from"./_plugin-vue_export-helper-DlAUqK2U.js";const J={class:"form-control w-full max-w-xs"},Q={class:"label"},W={disabled:"",value:null},X=["value"],Z={key:0,class:"label"},ee={key:0,class:"label-text-alt"},te={key:1,class:"label-text-alt"},w={__name:"MySelect",props:K({valueKey:{default:"value"},titleKey:{default:"title"},titleClass:{default:""},selectClass:{default:""},options:{type:Array,default:()=>[],required:!0},placeholder:{type:String,default:"Select an option"},title:{type:String,default:""},topAltText:{type:String,default:""},bottomLeftAltText:{type:String,default:""},bottomRightAltText:{type:String,default:""}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(f){const t=f,u=j(f,"modelValue");return(i,x)=>(a(),n("label",J,[l("div",Q,[t.title?(a(),n("span",{key:0,class:_([t.titleClass,"label-text"])},k(t.title),3)):p("",!0),f.topAltText?(a(),n("span",{key:1,class:_([t.titleClass,"label-text-alt"])},k(f.topAltText),3)):p("",!0)]),q(l("select",{class:_([t.selectClass,"select select-bordered"]),"onUpdate:modelValue":x[0]||(x[0]=m=>u.value=m),onChange:x[1]||(x[1]=m=>i.$emit("update:modelValue",m.target.value))},[l("option",W,k(f.placeholder),1),(a(!0),n($,null,S(f.options,m=>(a(),n("option",{key:m[t.valueKey],value:m[t.valueKey]},k(m[t.titleKey]),9,X))),128))],34),[[z,u.value]]),f.bottomLeftAltText||f.bottomRightAltText?(a(),n("div",Z,[f.bottomLeftAltText?(a(),n("span",ee,k(f.bottomLeftAltText),1)):p("",!0),f.bottomRightAltText?(a(),n("span",te,k(f.bottomRightAltText),1)):p("",!0)])):p("",!0)]))}},le={key:0,class:"mt-4 px-2 card"},oe={class:"flex flex-col gap-4"},ae={class:"flex items-end gap-4"},se={class:"py-3 px-6 bg-white rounded-lg flex gap-4"},ne={__name:"SettingGeneralView",props:{siteId:{type:Number,required:!0}},setup(f){const t=V({}),u=f,i=()=>{b("admin/settings-general-info",{site_id:u.siteId}).then(m=>{m.ok&&(t.value=m.site,t.value.active=!!t.value.active)})},x=()=>{b("admin/save-site-info",{site:t.value}).then(m=>{m.ok&&alert("Site Info Saved")})};return E(()=>{i()}),(m,c)=>{var y;return a(),n("div",null,[l("div",null,[c[7]||(c[7]=l("h1",{class:"text-2xl font-bold"},"General Settings",-1)),(y=t.value)!=null&&y.title?(a(),n("div",le,[l("div",oe,[d(g,{modelValue:t.value.title,"onUpdate:modelValue":c[0]||(c[0]=v=>t.value.title=v),"title-class":"font-bold text-lg",title:"Site Title"},null,8,["modelValue"]),d(g,{modelValue:t.value.name,"onUpdate:modelValue":c[1]||(c[1]=v=>t.value.name=v),"title-class":"font-bold text-lg",title:"Site Name"},null,8,["modelValue"]),d(g,{modelValue:t.value.domain,"onUpdate:modelValue":c[2]||(c[2]=v=>t.value.domain=v),"title-class":"font-bold text-lg",title:"Site Domain"},null,8,["modelValue"]),d(g,{modelValue:t.value.devdomain,"onUpdate:modelValue":c[3]||(c[3]=v=>t.value.devdomain=v),"title-class":"font-bold text-lg",title:"Site Development Domain"},null,8,["modelValue"]),d(g,{modelValue:t.value.settings.footer,"onUpdate:modelValue":c[4]||(c[4]=v=>t.value.settings.footer=v),"title-class":"font-bold text-lg",title:"Footer text"},null,8,["modelValue"]),l("div",ae,[d(w,{modelValue:t.value.protocol,"onUpdate:modelValue":c[5]||(c[5]=v=>t.value.protocol=v),options:[{title:"http",value:"http"},{title:"https",value:"https"}],"title-class":"font-bold text-lg",title:"Site Protocol"},null,8,["modelValue"]),l("div",se,[d(L,{"input-class":"checkbox-primary","title-class":"text-lg font-bold",class:"mt-auto",modelValue:t.value.active,"onUpdate:modelValue":c[6]||(c[6]=v=>t.value.active=v),title:"Is Active"},null,8,["modelValue"])])])])])):p("",!0)]),l("div",{class:"mt-8"},[l("button",{onClick:x,class:"btn btn-primary btn-lg px-8"},"Save")])])}}},de={},ie={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"};function ue(f,t){return a(),n("svg",ie,t[0]||(t[0]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"},null,-1)]))}const I=Y(de,[["render",ue]]),me={class:"mt-4 px-2 flex gap-4 items-end"},ce={key:0,class:"mt-8"},re={class:"flex items-center justify-between gap-4"},pe={class:"text-2xl font-bold"},fe={key:0,class:"text-green-500 font-bold text-lg"},ve={class:"mt-4 px-2 card"},ge={class:"flex flex-col gap-4"},xe={class:"flex gap-4 flex-wrap"},be={key:0,class:"flex gap-4"},Ve={key:1},ye={key:2},ke={key:3,class:"flex gap-4 items-end"},he={key:4},_e={class:"flex gap-4 flex-col mt-4"},Ce=["onClick"],Ue={class:"text-center mt-4"},$e=["onClick"],Se={key:5},we={class:"mt-4 flex text-right justify-end"},Ae=["onClick"],Ne={key:0,class:"flex gap-4 flex-warp mt-12"},Te={class:"mt-8"},Ie={__name:"SettingVariableView",setup(f){V({});const t=V({}),u=V(-1),i=V({}),x=r=>{let o={};r=="array"&&(o={options:[{name:"",value:""}]}),i.value.variables.push({id:new Date().getTime(),comname:r,...o})},m=r=>{i.value.variables.splice(r,1)},c=()=>{u.value=0,i.value={name:"",type:"",variables:[]}},y=r=>{b("admin/setting-config/remove-image",{path:r})},v=r=>{b("admin/setting-config/get-list",{}).then(o=>{o.ok&&(t.value=o.list),typeof r=="function"&&r(o)})},D=()=>{h({text:"Are you sure?",icon:"warning",buttons:["No","Yes"]}).then(r=>{r&&b("admin/setting-config/remove",{id:u.value}).then(o=>{o.ok?(h({text:"Success",icon:"success"}),u.value=-1,v()):h({text:o.message,icon:"error"})})})},R=r=>{u.value=r.target.value,A()},A=()=>{b("admin/setting-config/get-config",{id:u.value}).then(r=>{r.ok&&(i.value=r.config)})},M=()=>{b("admin/setting-config/save",{...i.value}).then(r=>{r.ok?(h({text:"Success",icon:"success"}),u.value==0&&v(()=>{u.value=r.id,A()})):h({text:r.message,icon:"error"})})};return v(),(r,o)=>(a(),n("div",null,[l("div",null,[o[12]||(o[12]=l("h1",{class:"text-2xl font-bold"},"Configs",-1)),l("div",me,[d(w,{onChange:o[0]||(o[0]=e=>R(e)),options:t.value,"title-key":"name","value-key":"id",modelValue:u.value,"onUpdate:modelValue":o[1]||(o[1]=e=>u.value=e),title:"Select a Config"},null,8,["options","modelValue"]),u.value!=0?(a(),n("button",{key:0,onClick:o[2]||(o[2]=e=>c()),class:"btn btn-primary"},"Add")):p("",!0)])]),u.value>-1?(a(),n("div",ce,[l("div",re,[l("h1",pe,[o[13]||(o[13]=F("Config Values ")),u.value==0?(a(),n("span",fe,"(New)")):p("",!0)]),l("div",null,[u.value>0?(a(),n("button",{key:0,onClick:D,class:"btn btn-error btn-sm"},"Delete Config")):p("",!0)])]),l("div",ve,[l("div",ge,[l("div",xe,[d(g,{modelValue:i.value.name,"onUpdate:modelValue":o[3]||(o[3]=e=>i.value.name=e),title:"Config Name","title-class":"text-lg font-bold"},null,8,["modelValue"]),d(g,{modelValue:i.value.type,"onUpdate:modelValue":o[4]||(o[4]=e=>i.value.type=e),title:"Config Type","title-class":"text-lg font-bold"},null,8,["modelValue"])]),(a(!0),n($,null,S(i.value.variables,(e,B)=>(a(),n("div",{class:"bg-black/5 p-2 rounded-xl border border-black/30",key:e.id},[e.comname=="value"?(a(),n("div",be,[d(g,{modelValue:e.label,"onUpdate:modelValue":s=>e.label=s,title:"Name","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),d(g,{modelValue:e.value,"onUpdate:modelValue":s=>e.value=s,title:"Value",class:"flex-1","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"])])):p("",!0),e.comname=="richbox"?(a(),n("div",Ve,[d(g,{modelValue:e.label,"onUpdate:modelValue":s=>e.label=s,title:"Name","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),d(P,{"com-id":"editor_"+e.id,modelValue:e.html,"onUpdate:modelValue":s=>e.html=s,title:"Content"},null,8,["com-id","modelValue","onUpdate:modelValue"])])):p("",!0),e.comname=="text"?(a(),n("div",ye,[d(g,{modelValue:e.label,"onUpdate:modelValue":s=>e.label=s,title:"Name","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),d(O,{modelValue:e.html,"onUpdate:modelValue":s=>e.html=s,title:"Content"},null,8,["modelValue","onUpdate:modelValue"])])):p("",!0),e.comname=="checkbox"?(a(),n("div",ke,[d(g,{modelValue:e.label,"onUpdate:modelValue":s=>e.label=s,title:"Name","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),d(L,{"input-class":"checkbox-success",class:"py-3 px-6 bg-white rounded-xl",title:"Enabled",modelValue:e.value,"onUpdate:modelValue":s=>e.value=s},null,8,["modelValue","onUpdate:modelValue"])])):p("",!0),e.comname=="array"?(a(),n("div",he,[d(g,{modelValue:e.label,"onUpdate:modelValue":s=>e.label=s,title:"Name",class:"flex-1","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),l("div",_e,[(a(!0),n($,null,S(e.options,(s,N)=>(a(),n("div",{key:N,class:"flex gap-4 items-end"},[d(g,{modelValue:s.name,"onUpdate:modelValue":C=>s.name=C,title:"Option Name",class:"flex-1","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),d(g,{modelValue:s.value,"onUpdate:modelValue":C=>s.value=C,title:"Option Value",class:"flex-1","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),l("button",{onClick:C=>e.options.splice(N,1),class:"border hover:bg-red-200 duration-200 border-red-500 rounded-lg p-2 text-red-600"},[d(I,{class:"size-6"})],8,Ce)]))),128))]),l("div",Ue,[l("button",{onClick:s=>e.options.push({name:"",value:""}),class:"btn"},"Add",8,$e)])])):p("",!0),e.comname=="image"?(a(),n("div",Se,[d(g,{modelValue:e.label,"onUpdate:modelValue":s=>e.label=s,title:"Name","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),d(H,{"upload-url":"admin/setting-config/upload-image",title:"Upload Image",modelValue:e.value,"onUpdate:modelValue":s=>e.value=s,"upload-params":{name:i.value.name},onRemove:y},null,8,["modelValue","onUpdate:modelValue","upload-params"])])):p("",!0),l("div",we,[l("button",{onClick:s=>m(B),class:"border hover:bg-red-200 duration-200 border-red-500 rounded-lg p-2 text-red-600"},[d(I,{class:"size-6"})],8,Ae)])]))),128))]),u.value>0?(a(),n("div",Ne,[l("button",{class:"btn btn-secondary",onClick:o[5]||(o[5]=e=>x("value"))},"Add Input"),l("button",{class:"btn btn-secondary",onClick:o[6]||(o[6]=e=>x("richbox"))},"Add Richbox"),l("button",{class:"btn btn-secondary",onClick:o[7]||(o[7]=e=>x("text"))},"Add Text"),l("button",{class:"btn btn-secondary",onClick:o[8]||(o[8]=e=>x("image"))},"Add Image"),l("button",{class:"btn btn-secondary",onClick:o[9]||(o[9]=e=>x("array"))},"Add Array"),l("button",{class:"btn btn-secondary",onClick:o[10]||(o[10]=e=>x("checkbox"))},"Add Checkbox")])):p("",!0)]),l("div",Te,[l("button",{onClick:o[11]||(o[11]=e=>M()),class:"btn btn-primary btn-lg px-8"},"Save")])])):p("",!0)]))}},Le={class:"p-1 md:p-8 max-w-4xl"},De={role:"tablist",class:"tabs tabs-boxed w-fit mt-4"},Re={class:"mt-12 rounded-xl bg-base-200 shadow shadow-md p-4"},Ee={__name:"SettingsView",setup(f){const t=G();V("general");const u=V([]),i=V(0);return(()=>{b("admin/get-sites",{}).then(m=>{m.ok&&(u.value=m.list,m.list.length&&(i.value=m.list[0].id))})})(),(m,c)=>(a(),n("div",Le,[l("div",null,[d(w,{modelValue:i.value,"onUpdate:modelValue":c[0]||(c[0]=y=>i.value=y),"value-key":"id",options:u.value,title:"Select a Site"},null,8,["modelValue","options"])]),l("div",De,[l("a",{href:"#general",role:"tab",class:_(["tab",{"tab-active":U(t).hash=="#general"}])},"General",2),l("a",{href:"#varriable",role:"tab",class:_(["tab",{"tab-active":U(t).hash=="#varriable"}])},"Variables",2)]),l("div",Re,[U(t).hash=="#general"&&i.value?(a(),T(ne,{key:0,"site-id":i.value},null,8,["site-id"])):p("",!0),U(t).hash=="#varriable"&&i.value?(a(),T(Ie,{key:1,"site-id":i.value},null,8,["site-id"])):p("",!0)])]))}};export{Ee as default};
